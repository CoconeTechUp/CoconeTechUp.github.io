---
layout: post
title:  "DB 스키마 문서화 dbdocs.io 소개 및 사용법"
date:   2021-11-01
---

1. [소개 및 사용법](#1.-소개-및-사용법)
2. [사용법](#2.-사용법)
3. [후기](#3.-후기)

---

## 1. 소개 및 사용법
데이터 베이스 구조를 쉽게 문서화 하도록 설계된 마크 업 언어인 DBML - Database Markup Language 를 사용하려 웹 기반으로 DB 문서화를 하는 무료 툴 입니다.<br>
[dbdocs.io 홈페이지 링크](https://dbdocs.io/docs)<br>
홈페이지 방문 시 간단하게 체험하실 수 있습니다.

간단하게 웹 기반, 텍스트(DBML) 기반으로 ERD를 생성하기 좋은 dbdiagram.io도 추천 드립니다.(유료 버전 존재)<br>
[dbdiagram.io 홈페이지 링크](https://dbdiagram.io/home)

dbdocs.io, dbdiagram.io 모두 holistics 사에서 개발하였습니다.
![creco ERD](https://user-images.githubusercontent.com/93178834/139617566-0085d8cb-12a2-4a03-911e-c32fc1e31a66.png)<br>
SYF팀에서 개발 중인 CreCo Project ERD를 데모 적용한 사진입니다.<br>
DB Table에 대한 총 정리와 필드 수 등을 보여주고 있습니다.<br>
![public.crew](https://user-images.githubusercontent.com/93178834/139617883-da1759ee-196b-4e91-aada-36c52f6ca538.png)<br>

좌측에서 테이블 클릭 시 해당 테이블에 대한 상세 정보를 노출하며 하단에는 참조 관계도 ERD를 확대하여 보여주고 있습니다.<br>
![table](https://user-images.githubusercontent.com/93178834/139617983-dd53b67c-c817-4c5d-b650-e8e88aa18aac.png)<br>
해당 테이블에 참조 관계인 테이블만 정리해서 시각화 해주기 때문에 명확한 관계 파악이 한눈에 가능합니다.

상단 Relationships 메뉴 선택 시는 전체 ERD 를 노출합니다.
> 전체 ERD 는 초기 세팅 시 위치 설정이 임의로 되어 있습니다. 수정하기 위해서는 세팅 계정으로 웹 페이지 로그인 후 위치를 조정 하시면 위치 설정이 저장됩니다.

---

## 2. 사용법
사용법은 [가이드링크](https://dbdocs.io/docs)에 상세히 기재되어 있습니다.<br>
간단한 작동 플로우는 SQL 파일을 DBML 파일로 변환 후 NodeJs의 dbdocs 모듈을 사용하여 문서화가 진행됩니다.<br>
대부분 SQL 파일로 가지고 있기 때문에 가이드 문서 중앙 쯤 위치한 링크를 참고하여 DBML파일로 변환을 먼저 합니다. - [SQL TO DBML 변환 가이드 링크](https://www.dbml.org/cli/#installation)<br><br>

저는 sql → dbml 로 변환 시 mysqlParser 에러 발생(TypeError: Cannot read properties of null (reading 'split'))으로 변환이 정상 작동하지 않았습니다.
> MySQL 문법 sql 파일을 DBML 로 변환 하려 했지만 계속 에러가 발생하여 PostgreSQL 문법 sql 파일로 DBML 로 변환하였습니다.<<br>
> MySQL 문법 sql 파일은 dbdiagram.io DBML 언어로 작성된 ERD 에서 추출한 것이고 이상 없음을 확인하였습니다.<br>
> 에러 파일은 해당 실행 폴더 내부에 생성됩니다.<br>
---

## 3. 후기
웹 기반으로 손쉽게 ERD 와 DB 정보를 확인 할 수 있다는 장점이 확실하여 협업과 간단한 파악 시 도움이 될 것 같습니다.
하지만, 모바일 접속 시에는 화면이 깨져 볼 수 없습니다....
